<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
  </head>
  <body background="bug_kumo_ito.png">
		<canvas id="myCanvas" width="1200" height="800"></canvas>
		<script>
			var cs   = document.getElementById('myCanvas'),
			ctx      = cs.getContext('2d'),
			csWidth  = cs.width,
			csHeight = cs.height,
			center   = {
      x: csWidth / 2,
      y: csHeight / 2
			};
			// 線の基本スタイル
			ctx.strokeStyle = '#666';
			ctx.lineWidth = 10;

			var drawHorizontalLineAnim = function() {
			var beginPos = 0,  // スタート位置
      movePos  = beginPos,  // 移動位置（現在位置）
      addVal   = 10,  // 加算量
      endPos   = csWidth - 10,  // 終了位置
      isAnim   = function() {  // アニメーションを終了する条件
        return (movePos < endPos);
      };

		  var render = function() {
				ctx.beginPath();
				ctx.moveTo(beginPos, center.y);
				ctx.lineTo(movePos, center.y);
				ctx.closePath();
				ctx.stroke();

				if (isAnim() === true) {
					movePos += addVal;
					// ↑のaddで終了点を超えることがあるため上限を決める
					movePos = (isAnim() === false) ? endPos : movePos;
					requestAnimationFrame(render)
    		}
  		};
			render();
		};
		drawHorizontalLineAnim();
    </script>
  </body>
</html>      
